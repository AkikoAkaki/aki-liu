{{ define "main" }}
<div class="writing-container">
    <div class="title-with-back">
        <a class="back-link" href="{{ .Site.Home.RelPermalink }}">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14" />
                <path d="M11 6l-6 6 6 6" />
            </svg>
            <span>Index</span>
        </a>
        <h1 class="writing-label">{{ .Title }}</h1>
    </div>
    {{ partial "tag-sidebar.html" (dict "variant" "inline" "context" .) }}
    
    <div class="writing-list">
        {{ range .Pages.GroupByPublishDate "2006" }}
            {{ $year := .Key }}
            {{ range $index, $page := .Pages }}
                {{ $isFirstOfYear := eq $index 0 }}
                
                <article class="writing-item {{ if $isFirstOfYear }}first-of-year{{ end }}">
                    <div class="item-divider"></div>
                    <div class="item-year">
                        {{ if $isFirstOfYear }}{{ $year }}{{ end }}
                    </div>
                    <a href="{{ .RelPermalink }}" class="item-title">{{ .Title }}</a>
                    <time class="item-date">{{ .Date.Format "01/02" }}</time>
                </article>
            {{ end }}
        {{ end }}
    </div>
</div>
{{ end }}

{{ define "sidebar-right" }}
    {{ partial "tag-sidebar.html" (dict "context" .) }}
{{ end }}
